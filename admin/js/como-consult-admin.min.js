// File Uploader
!function($){"use strict";$(function(){var e,t,l;e=$('[data-id="url-file"]'),l=$("#remove-file"),t=$("#upload-file"),t.on("click",function(i){i.preventDefault();var o,n;return void 0!==o?void o.open():(o=wp.media.frames.file_frame=wp.media({button:{text:"Choose File"},frame:"select",multiple:!1,title:"Choose File"}),o.on("select",function(){n=o.state().get("selection").first().toJSON(),0>$.trim(n.url.length)||(e.val(n.url),t.toggleClass("hide"),l.toggleClass("hide"))}),void o.open())}),l.on("click",function(i){i.preventDefault(),e.val(""),t.toggleClass("hide"),l.toggleClass("hide")})})}(jQuery);

// Date Picker
!function($){"use strict";$(function(){$(".datepicker").datepicker({dateFormat:"D, m/d/yy"})})}(jQuery);

// Editor Label
//!function($){"use strict";$(function(){$('<h3 class="label-editor">'+Editor_Label.label+"</h3>").insertBefore("#postdivrich")})}(jQuery);

// Image Uploader
!function(e){"use strict";e(function(){e("body").on("click",".upload-image",function(i){var t,l,n,a,o,r,d=e(this).parent().parent();t=d.find(".url-file"),n=d.find(".remove-image"),l=d.find(".upload-image"),a=d.find(".img-preview"),i.preventDefault(),void 0===o?((o=wp.media.frames.file_frame=wp.media({button:{text:"Choose File"},frame:"select",multiple:!1,title:"Choose File"})).on("select",function(){r=o.state().get("selection").first().toJSON(),0>e.trim(r.url.length)||(t.val(r.id),a.append('<img src="'+r.url+'" style="max-width:100%;"/>'),l.toggleClass("hide"),n.toggleClass("hide"))}),o.open()):o.open()}),e("body").on("click",".remove-image",function(i){var t,l,n,a,o=e(this).parent().parent();t=o.find(".url-file"),n=o.find(".remove-image"),l=o.find(".upload-image"),a=o.find(".img-preview"),i.preventDefault(),t.val(""),a.html(""),l.toggleClass("hide"),n.toggleClass("hide")})})}(jQuery);

// Repeater
!function($){"use strict";$("#add-repeater").on("click",function(e){e.preventDefault();var t=$(".repeater.hidden").clone(!0);return t.removeClass("hidden"),t.insertBefore(".repeater.hidden"),!1}),$(".link-remove").on("click",function(){var e=$(this).parents(".repeater");return e.hasClass("first")||e.remove(),!1}),$(".btn-edit").on("click",function(){var e=$(this).parents(".repeater");e.children(".repeater-content").slideToggle("150"),$(this).children(".toggle-arrow").toggleClass("closed"),$(this).parents(".handle").toggleClass("closed")}),$(function(){$(".repeater-title").on("keyup",function(){var e=$(this).parents(".repeater"),t=$(this).val();t.length>0?e.find(".title-repeater").text(t):e.find(".title-repeater").text(nhdata.repeatertitle)})}),$(function(){$(".repeaters").sortable({cursor:"move",handle:".handle",items:".repeater",opacity:.6})})}(jQuery);

// Color Picker
!function($){"use strict";$(function(){$(".colorpicker").wpColorPicker()})}(jQuery);

// Field Options
!function(e){"use strict";e("body .repeater-content .field-type-select").each(function(){var a=e(this).val(),i=e(this).parents(".repeater-content"),d=new Array("radio","checkboxes","select");0==e.inArray(a,d)?i.find(".wrap-field .field-options").parents(".wrap-field").removeClass("hide"):i.find(".wrap-field .field-options").parents(".wrap-field").addClass("hide"),"image-upload"===a?i.find(".wrap-field .field-sample-image").parents(".wrap-field").removeClass("hide"):i.find(".wrap-field .field-sample-image").parents(".wrap-field").addClass("hide")}),e("body").on("change",".field-type-select",function(){var a=e(this).children("option:selected").val(),i=e(this).parents(".repeater-content");switch(a){case"radio":case"select":case"checkboxes":i.find(".wrap-field .field-options").parents(".wrap-field").removeClass("hide"),i.find(".wrap-field .field-sample-image").parents(".wrap-field").addClass("hide");break;case"image-upload":i.find(".wrap-field .field-sample-image").parents(".wrap-field").removeClass("hide"),i.find(".wrap-field .field-options").parents(".wrap-field").addClass("hide");break;default:i.find(".wrap-field .field-options").parents(".wrap-field").addClass("hide"),i.find(".wrap-field .field-sample-image").parents(".wrap-field").addClass("hide")}})}(jQuery);